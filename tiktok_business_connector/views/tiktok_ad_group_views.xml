<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- TikTok Ad Group Tree View -->
    <record id="view_tiktok_ad_group_tree" model="ir.ui.view">
        <field name="name">tiktok.ad_group.tree</field>
        <field name="model">tiktok.ad_group</field>
        <field name="arch" type="xml">
            <list>
                <header>
                    <button name="action_sync_ad_groups" string="Sync Ad Groups" type="object" class="btn-primary"/>
                    <button name="action_sync_ads" string="Sync Ads" type="object" class="btn-primary"/>
                </header>
                <field name="adgroup_id"/>
                <field name="adgroup_name"/>
                <field name="odoo_campaign_id"/>
                <field name="odoo_advertiser_id"/>
                <field name="operation_status"/>
                <field name="secondary_status"/>
                <field name="budget"/>
                <field name="budget_mode"/>
                <field name="optimization_goal"/>
                <field name="bid_type"/>
                <field name="schedule_start_time"/>
                <field name="schedule_end_time"/>
                <field name="create_time"/>
                <field name="modify_time"/>
            </list>
        </field>
    </record>

    <!-- TikTok Ad Group Form View -->
    <record id="view_tiktok_ad_group_form" model="ir.ui.view">
        <field name="name">tiktok.ad_group.form</field>
        <field name="model">tiktok.ad_group</field>
        <field name="arch" type="xml">
            <form>
                <header>
                    <button name="action_sync_ad_groups" string="Sync Ad Groups" type="object" class="btn-primary"/>
                    <button name="action_sync_ads" string="Sync Ads" type="object" class="btn-primary"/>
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                    </div>
                    
                    <!-- Basic Information -->
                    <group>
                        <group string="Basic Information">
                            <field name="adgroup_id"/>
                            <field name="adgroup_name"/>
                            <field name="odoo_campaign_id"/>
                            <field name="odoo_advertiser_id"/>
                            <field name="advertiser_id"/>
                            <field name="campaign_id"/>
                            <field name="campaign_name"/>
                            <field name="campaign_system_origin"/>
                            <field name="is_smart_performance_campaign"/>
                            <field name="create_time"/>
                            <field name="modify_time"/>
                        </group>
                        <group string="Status &amp; Operation">
                            <field name="operation_status"/>
                            <field name="secondary_status"/>
                            <field name="statistic_type"/>
                            <field name="is_hfss"/>
                            <field name="is_new_structure"/>
                            <field name="skip_learning_phase"/>
                        </group>
                    </group>
                    
                    <!-- Budget & Schedule -->
                    <group>
                        <group string="Budget Settings">
                            <field name="budget"/>
                            <field name="scheduled_budget"/>
                            <field name="budget_mode"/>
                            <field name="discount_type"/>
                            <field name="discount_amount"/>
                            <field name="discount_percentage"/>
                            <field name="pre_discount_budget"/>
                        </group>
                        <group string="Schedule Settings">
                            <field name="schedule_type"/>
                            <field name="schedule_start_time"/>
                            <field name="schedule_end_time"/>
                            <field name="delivery_mode"/>
                            <field name="dayparting"/>
                        </group>
                    </group>
                    
                    <!-- Optimization & Bidding -->
                    <group>
                        <group string="Optimization">
                            <field name="optimization_goal"/>
                            <field name="secondary_optimization_event"/>
                            <field name="message_event_set_id"/>
                            <field name="frequency"/>
                            <field name="frequency_schedule"/>
                        </group>
                        <group string="Bidding">
                            <field name="bid_type"/>
                            <field name="bid_price"/>
                            <field name="conversion_bid_price"/>
                            <field name="deep_bid_type"/>
                            <field name="roas_bid"/>
                            <field name="deep_cpa_bid"/>
                            <field name="bid_display_mode"/>
                        </group>
                    </group>
                    
                    <!-- TopView Settings -->
                    <group>
                        <group string="TopView Settings">
                            <field name="predict_impression"/>
                            <field name="topview_reach_range"/>
                            <field name="pre_discount_cpm"/>
                            <field name="cpm"/>
                        </group>
                        <group string="Attribution &amp; Billing">
                            <field name="click_attribution_window"/>
                            <field name="engaged_view_attribution_window"/>
                            <field name="view_attribution_window"/>
                            <field name="attribution_event_count"/>
                            <field name="billing_event"/>
                            <field name="pacing"/>
                        </group>
                    </group>
                    
                    <!-- Shopping Ads -->
                    <group>
                        <group string="Shopping Ads">
                            <field name="shopping_ads_type"/>
                            <field name="identity_id"/>
                            <field name="identity_type"/>
                            <field name="identity_authorized_bc_id"/>
                            <field name="product_source"/>
                            <field name="catalog_id"/>
                            <field name="catalog_authorized_bc_id"/>
                            <field name="store_id"/>
                            <field name="store_authorized_bc_id"/>
                        </group>
                        <group string="Promotion">
                            <field name="promotion_type"/>
                            <field name="promotion_target_type"/>
                            <field name="messaging_app_type"/>
                            <field name="messaging_app_account_id"/>
                            <field name="phone_region_code"/>
                            <field name="phone_region_calling_code"/>
                            <field name="phone_number"/>
                            <field name="promotion_website_type"/>
                        </group>
                    </group>
                    
                    <!-- App & Pixel -->
                    <group>
                        <group string="App Settings">
                            <field name="app_id"/>
                            <field name="app_type"/>
                            <field name="app_download_url"/>
                            <field name="pixel_id"/>
                            <field name="optimization_event"/>
                            <field name="custom_conversion_id"/>
                            <field name="app_config"/>
                        </group>
                        <group string="Deep Funnel">
                            <field name="deep_funnel_optimization_status"/>
                            <field name="deep_funnel_event_source"/>
                            <field name="deep_funnel_event_source_id"/>
                            <field name="deep_funnel_optimization_event"/>
                        </group>
                    </group>
                    
                    <!-- Placement & Search -->
                    <group>
                        <group string="Placement">
                            <field name="placement_type"/>
                            <field name="placements"/>
                            <field name="tiktok_subplacements"/>
                            <field name="search_result_enabled"/>
                            <field name="automated_keywords_enabled"/>
                            <field name="search_keywords"/>
                        </group>
                        <group string="Interaction Settings">
                            <field name="comment_disabled"/>
                            <field name="video_download_disabled"/>
                            <field name="share_disabled"/>
                            <field name="blocked_pangle_app_ids"/>
                        </group>
                    </group>
                    
                    <!-- Audience -->
                    <group>
                        <group string="Audience Settings">
                            <field name="audience_type"/>
                            <field name="audience_rule"/>
                            <field name="shopping_ads_retargeting_type"/>
                            <field name="shopping_ads_retargeting_actions_days"/>
                            <field name="included_custom_actions"/>
                            <field name="excluded_custom_actions"/>
                            <field name="shopping_ads_retargeting_custom_audience_relation"/>
                        </group>
                        <group string="Demographics">
                            <field name="location_ids"/>
                            <field name="zipcode_ids"/>
                            <field name="languages"/>
                            <field name="gender"/>
                            <field name="age_groups"/>
                            <field name="spending_power"/>
                            <field name="household_income"/>
                        </group>
                    </group>
                    
                    <!-- Advanced Audience -->
                    <group>
                        <group string="Advanced Audience">
                            <field name="audience_ids"/>
                            <field name="smart_audience_enabled"/>
                            <field name="excluded_audience_ids"/>
                            <field name="interest_category_ids"/>
                            <field name="interest_keyword_ids"/>
                            <field name="purchase_intention_keyword_ids"/>
                            <field name="actions"/>
                            <field name="smart_interest_behavior_enabled"/>
                            <field name="included_pangle_audience_package_ids"/>
                            <field name="excluded_pangle_audience_package_ids"/>
                        </group>
                        <group string="Device &amp; Technical">
                            <field name="operating_systems"/>
                            <field name="min_android_version"/>
                            <field name="ios14_targeting"/>
                            <field name="min_ios_version"/>
                            <field name="ios14_quota_type"/>
                            <field name="device_model_ids"/>
                            <field name="network_types"/>
                            <field name="carrier_ids"/>
                            <field name="isp_ids"/>
                            <field name="device_price_ranges"/>
                            <field name="saved_audience_id"/>
                            <field name="contextual_tag_ids"/>
                        </group>
                    </group>
                    
                    <!-- Brand Safety & Creative -->
                    <group>
                        <group string="Brand Safety">
                            <field name="brand_safety_type"/>
                            <field name="brand_safety_partner"/>
                            <field name="inventory_filter_enabled"/>
                            <field name="category_exclusion_ids"/>
                            <field name="vertical_sensitivity_id"/>
                        </group>
                        <group string="Creative Settings">
                            <field name="creative_material_mode"/>
                            <field name="adgroup_app_profile_page_state"/>
                            <field name="feed_type"/>
                            <field name="rf_purchased_type"/>
                            <field name="purchased_impression"/>
                            <field name="purchased_reach"/>
                            <field name="rf_estimated_cpr"/>
                            <field name="rf_estimated_frequency"/>
                        </group>
                    </group>
                    
                    <!-- Split Test & Additional -->
                    <group>
                        <group string="Split Test">
                            <field name="split_test_group_id"/>
                            <field name="split_test_status"/>
                        </group>
                        <group string="Additional Settings">
                            <field name="cpv_video_duration"/>
                            <field name="next_day_retention"/>
                            <field name="vbo_window"/>
                            <field name="schedule_infos"/>
                        </group>
                    </group>
                    
                    <!-- Raw Data -->
                    <group>
                        <group string="Raw Data">
                            <field name="raw_payload" widget="json"/>
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- TikTok Ad Group Search View -->
    <record id="view_tiktok_ad_group_search" model="ir.ui.view">
        <field name="name">tiktok.ad_group.search</field>
        <field name="model">tiktok.ad_group</field>
        <field name="arch" type="xml">
            <search>
                <field name="adgroup_id"/>
                <field name="adgroup_name"/>
                <field name="campaign_id"/>
                <field name="campaign_name"/>
                <field name="advertiser_id"/>
                <field name="app_id"/>
                <field name="optimization_goal"/>
                <field name="operation_status"/>
                <field name="secondary_status"/>
                <field name="budget_mode"/>
                <field name="bid_type"/>
                <field name="shopping_ads_type"/>
                <field name="placement_type"/>
                <field name="audience_type"/>
                
                <separator/>
                <filter string="Smart Performance Campaign" name="smart_performance" domain="[('is_smart_performance_campaign', '=', True)]"/>
                <filter string="New Structure" name="new_structure" domain="[('is_new_structure', '=', True)]"/>
                <filter string="Skip Learning Phase" name="skip_learning" domain="[('skip_learning_phase', '=', True)]"/>
                <filter string="HFSS" name="hfss" domain="[('is_hfss', '=', True)]"/>
                
                <separator/>
                <filter string="Operation Status: ENABLE" name="operation_enable" domain="[('operation_status', '=', 'ENABLE')]"/>
                <filter string="Operation Status: DISABLE" name="operation_disable" domain="[('operation_status', '=', 'DISABLE')]"/>
                <filter string="Secondary Status: ENABLE" name="secondary_enable" domain="[('secondary_status', '=', 'ENABLE')]"/>
                <filter string="Secondary Status: DISABLE" name="secondary_disable" domain="[('secondary_status', '=', 'DISABLE')]"/>
                
                <separator/>
                <filter string="Budget Mode: Daily" name="budget_daily" domain="[('budget_mode', '=', 'BUDGET_MODE_DAY')]"/>
                <filter string="Budget Mode: Total" name="budget_total" domain="[('budget_mode', '=', 'BUDGET_MODE_TOTAL')]"/>
                <filter string="Budget Mode: Infinite" name="budget_infinite" domain="[('budget_mode', '=', 'BUDGET_MODE_INFINITE')]"/>
                
                <separator/>
                <filter string="Has Schedule" name="has_schedule" domain="[('schedule_start_time', '!=', False)]"/>
                <filter string="No Schedule" name="no_schedule" domain="[('schedule_start_time', '=', False)]"/>
                <filter string="Has Budget" name="has_budget" domain="[('budget', '>', 0)]"/>
                <filter string="No Budget" name="no_budget" domain="[('budget', '=', 0)]"/>
                
                <separator/>
                <filter string="Shopping Ads" name="shopping_ads" domain="[('shopping_ads_type', '!=', False)]"/>
                <filter string="App Promotion" name="app_promotion" domain="[('app_id', '!=', False)]"/>
                <filter string="Search Enabled" name="search_enabled" domain="[('search_result_enabled', '=', True)]"/>
                <filter string="Automated Keywords" name="automated_keywords" domain="[('automated_keywords_enabled', '=', True)]"/>
                
                <group expand="0" string="Group By">
                    <filter string="Advertiser" name="group_advertiser" context="{'group_by': 'odoo_advertiser_id'}"/>
                    <filter string="Campaign" name="group_campaign" context="{'group_by': 'odoo_campaign_id'}"/>
                    <filter string="Optimization Goal" name="group_optimization_goal" context="{'group_by': 'optimization_goal'}"/>
                    <filter string="Operation Status" name="group_operation_status" context="{'group_by': 'operation_status'}"/>
                    <filter string="Secondary Status" name="group_secondary_status" context="{'group_by': 'secondary_status'}"/>
                    <filter string="Budget Mode" name="group_budget_mode" context="{'group_by': 'budget_mode'}"/>
                    <filter string="Bid Type" name="group_bid_type" context="{'group_by': 'bid_type'}"/>
                    <filter string="Shopping Ads Type" name="group_shopping_ads_type" context="{'group_by': 'shopping_ads_type'}"/>
                    <filter string="Placement Type" name="group_placement_type" context="{'group_by': 'placement_type'}"/>
                    <filter string="Audience Type" name="group_audience_type" context="{'group_by': 'audience_type'}"/>
                    <filter string="App ID" name="group_app_id" context="{'group_by': 'app_id'}"/>
                </group>
            </search>
        </field>
    </record>

    <!-- TikTok Ad Group Action -->
    <record id="action_tiktok_ad_group" model="ir.actions.act_window">
        <field name="name">Ad Groups</field>
        <field name="res_model">tiktok.ad_group</field>
    </record>

</odoo>
