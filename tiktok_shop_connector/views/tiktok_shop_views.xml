<odoo>
    <record id="view_tiktok_shop_list" model="ir.ui.view">
        <field name="name">tiktok.shop.list</field>
        <field name="model">tiktok.shop</field>
        <field name="arch" type="xml">
            <list>
                <field name="name" />
                <field name="shop_id" />
                <field name="shop_code" />
                <field name="expires_at" />
                <field name="status" />
            </list>
        </field>
    </record>

    <record id="view_tiktok_shop_form" model="ir.ui.view">
        <field name="name">tiktok.shop.form</field>
        <field name="model">tiktok.shop</field>
        <field name="arch" type="xml">
            <form string="TikTok Shop">
                <header>
                    <button string="Authorize"
                        type="object"
                        name="action_start_authorize"
                        class="btn-primary" />
                    <button string="Sync Shop"
                        type="object"
                        name="action_sync_shop" />
                    <button string="Sync Categories"
                        type="object"
                        name="action_sync_categories" />
                    <button string="Sync Warehouses"
                        type="object"
                        name="action_sync_warehouses" />
                    <button string="Sync Products"
                        type="object"
                        name="action_sync_products" />
                    <button string="Sync Orders"
                        type="object"
                        name="action_sync_orders" />
                    <button string="Sync Returns"
                        type="object"
                        name="action_sync_returns" />
                    <button string="Sync Cancellations"
                        type="object"
                        name="action_sync_cancellations" />
                    <button string="Sync Product Performance"
                        type="object"
                        name="action_sync_product_performance" />
                    <button string="Sync SKU Performance"
                        type="object"
                        name="action_sync_sku_performance" />
                    <button string="Sync Video Performance"
                        type="object"
                        name="action_sync_video_performance" />
                    <button string="Sync Live Performance"
                        type="object"
                        name="action_sync_live_performance" />
                </header>
                <sheet>
                    <div class="oe_title">
                        <h1>
                            <field name="name"/>
                        </h1>
                    </div>
                    <group>
                        <group string="Shop Information">
                            <field name="shop_id" />
                            <field name="shop_code" />
                            <field name="shop_cipher" />
                        </group>
                        <group string="App Credentials">
                            <field name="region" widget="radio" options="{'horizontal': True}"/>
                            <field name="service_id" />
                            <field name="app_key" />
                            <field name="app_secret" password="1"/>
                            <field name="redirect_uri" />
                        </group>
                        <group string="Token">
                            <field name="access_token" readonly="1" password="1"/>
                            <field name="refresh_token" readonly="1" password="1"/>
                            <field name="expires_at" readonly="1" />
                            <field name="status" readonly="1" />
                        </group>
                        <group string="Other">
                            <field name="sync_data_since" />
                            <field name="raw_payload" readonly="1" />
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="view_tiktok_shop_search" model="ir.ui.view">
        <field name="name">tiktok.shop.search</field>
        <field name="model">tiktok.shop</field>
        <field name="arch" type="xml">
            <search string="Search TikTok Shops">
                <field name="name"/>
                <field name="shop_id"/>
                <field name="shop_code"/>
                <separator/>
                <filter string="Authorized" name="authorized" domain="[('status', '=', 'authorized')]"/>
                <filter string="Deauthorized" name="deauthorized" domain="[('status', '=', 'deauthorized')]"/>
                <separator/>
                <filter string="US Region" name="us_region" domain="[('region', '=', 'us')]"/>
                <filter string="Non-US Region" name="non_us_region" domain="[('region', '=', 'non-us')]"/>
                <separator/>
                <filter string="Token Expired" name="token_expired" domain="[('expires_at', '&lt;', datetime.datetime.now())]"/>
                <filter string="Token Valid" name="token_valid" domain="[('expires_at', '&gt;', datetime.datetime.now())]"/>
                <separator/>
                <group expand="0" string="Group By">
                    <filter string="Status" name="group_by_status" context="{'group_by': 'status'}"/>
                    <filter string="Region" name="group_by_region" context="{'group_by': 'region'}"/>
                </group>
            </search>
        </field>
    </record>

    <record id="action_tiktok_shop" model="ir.actions.act_window">
        <field name="name">TikTok Shops</field>
        <field name="res_model">tiktok.shop</field>
        <field name="view_mode">list,form</field>
    </record>

    <record id="action_tiktok_shop_sync_categories" model="ir.actions.server">
        <field name="name">Sync Categories</field>
        <field name="model_id" ref="model_tiktok_shop"/>
        <field name="binding_model_id" ref="model_tiktok_shop"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">records.action_sync_categories()</field>
    </record>

    <record id="action_tiktok_shop_sync_warehouses" model="ir.actions.server">
        <field name="name">Sync Warehouses</field>
        <field name="model_id" ref="model_tiktok_shop"/>
        <field name="binding_model_id" ref="model_tiktok_shop"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">records.action_sync_warehouses()</field>
    </record>

    <record id="action_tiktok_shop_sync_products" model="ir.actions.server">
        <field name="name">Sync Products</field>
        <field name="model_id" ref="model_tiktok_shop"/>
        <field name="binding_model_id" ref="model_tiktok_shop"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">records.action_sync_products()</field>
    </record>

    <record id="action_tiktok_shop_sync_orders" model="ir.actions.server">
        <field name="name">Sync Orders</field>
        <field name="model_id" ref="model_tiktok_shop"/>
        <field name="binding_model_id" ref="model_tiktok_shop"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">records.action_sync_orders()</field>
    </record>

    <record id="action_tiktok_shop_sync_returns" model="ir.actions.server">
        <field name="name">Sync Returns</field>
        <field name="model_id" ref="model_tiktok_shop"/>
        <field name="binding_model_id" ref="model_tiktok_shop"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">records.action_sync_returns()</field>
    </record>

    <record id="action_tiktok_shop_sync_product_performance" model="ir.actions.server">
        <field name="name">Sync Product Performance</field>
        <field name="model_id" ref="model_tiktok_shop"/>
        <field name="binding_model_id" ref="model_tiktok_shop"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">records.action_sync_product_performance()</field>
    </record>

    <record id="action_tiktok_shop_sync_video_performance" model="ir.actions.server">
        <field name="name">Sync Video Performance</field>
        <field name="model_id" ref="model_tiktok_shop"/>
        <field name="binding_model_id" ref="model_tiktok_shop"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">records.action_sync_video_performance()</field>
    </record>

    <record id="action_tiktok_shop_sync_live_performance" model="ir.actions.server">
        <field name="name">Sync Live Performance</field>
        <field name="model_id" ref="model_tiktok_shop"/>
        <field name="binding_model_id" ref="model_tiktok_shop"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">records.action_sync_live_performance()</field>
    </record>
</odoo>
